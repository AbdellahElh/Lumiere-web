@using Rise.Client.Util
@using Rise.Shared.Movies

<div class="flex flex-col sm:flex-row bg-blue-100 p-3 border border-blue-500">

    <div class=" px-4 pt-2">
        <h1 class="text-2xl">Alle films</h1>
    </div>

    <div class="pl-2 pt-2 cursor-pointer">
        <input 
               @onchange="HandleDateChange"
               type="date"
               value="@selectedDate.ToString("yyyy-MM-dd")"
               class="bg-gray-100 hover:bg-gray-200 border border-blue-600 text-black text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2"
               placeholder="Select date">

    </div>

    <div class="flex-initial relative px-2 pt-2">
        <button @onclick="ToggleDropdownCinemas" 
                class="text-black bg-gray-100 hover:bg-gray-200 border border-blue-600 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2 text-center inline-flex items-center"
                type="button">
            Selecteer Cinema
            <i class="fas fa-chevron-down w-2.5 h-2.5 ms-3 text-black"></i>
        </button>

        @if (isDropdownVisibleCinemas)
        {
            <div class="absolute z-10 w-40 bg-white divide-y divide-gray-100 rounded-lg shadow-lg mt-1 border border-blue-600">
                <ul class="p-3 space-y-3 text-sm text-gray-700">
                    @foreach (var cinema in Cinemas.AllCinemas)
                    {
                        <li>
                            <div class="flex items-center">
                                <input id="@cinema"
                                       type="checkbox" 
                                       value="@cinema"
                                       checked="@selectedCinemas.Contains(cinema)"
                                       @onchange="e => HandleCinemaChange(cinema, e.Value)"
                                       class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500">
                                <label for="@cinema" 
                                    class="ms-2 text-sm font-medium text-gray-900 cursor-pointer">@cinema</label>
                            </div>
                        </li>
                    }
                </ul>
            </div>
        }
    </div>


</div>

